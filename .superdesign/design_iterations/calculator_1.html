<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern Glass Calculator</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="calculator_theme.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Custom styles on top of theme */
      .calculator {
        background: var(--background);
        max-width: 400px;
        border-radius: var(--radius-lg);
        overflow: hidden;
        backdrop-filter: blur(10px);
        box-shadow: var(--shadow-xl);
        border: 1px solid var(--border);
      }

      .display {
        background: var(--calc-display);
        min-height: 140px;
        backdrop-filter: blur(5px);
        transition: all 0.3s ease;
      }

      .display:hover {
        box-shadow: var(--shadow-md);
      }

      .previous-result {
        color: var(--muted-foreground);
        font-size: 0.875rem;
        transition: all 0.2s ease;
      }

      .current-result {
        font-size: 2.5rem;
        font-weight: 700;
        transition: all 0.2s ease;
      }

      .button-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0.75rem;
        padding: 1.25rem;
        background: var(--card);
      }

      .calc-button {
        aspect-ratio: 1;
        border-radius: var(--radius);
        font-size: 1.25rem;
        font-weight: 700;
        transition: all 0.15s ease;
        border: 1px solid var(--border);
        background: var(--calc-number);
        color: var(--foreground);
        backdrop-filter: blur(5px);
      }

      .calc-button:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-sm);
        background: var(--calc-number);
        opacity: 0.9;
      }

      .calc-button:active {
        transform: translateY(0px) scale(0.95);
      }

      .operator {
        background: var(--calc-operator);
        color: var(--accent-foreground);
      }

      .equals {
        background: var(--calc-equals);
        color: var(--primary-foreground);
      }

      .zero {
        grid-column: span 2;
      }

      /* Animations */
      @keyframes buttonPress {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(0.95);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes numberEntry {
        0% {
          transform: translateX(5px);
          opacity: 0.8;
        }
        100% {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes resultDisplay {
        0% {
          transform: scale(0.95);
        }
        50% {
          transform: scale(1.02);
        }
        100% {
          transform: scale(1);
        }
      }

      .number-entry {
        animation: numberEntry 0.2s ease-out;
      }

      .result-display {
        animation: resultDisplay 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .button-press {
        animation: buttonPress 0.15s ease-out;
      }
    </style>
  </head>
  <body
    class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-black p-4"
  >
    <div class="calculator">
      <div class="display p-6 flex flex-col justify-end items-end">
        <div class="previous-result mb-2">1,234 + 5,678</div>
        <div class="current-result result-display">6,912</div>
      </div>
      <div class="button-grid">
        <!-- Row 1 -->
        <button class="calc-button operator">AC</button>
        <button class="calc-button operator">±</button>
        <button class="calc-button operator">%</button>
        <button class="calc-button operator">÷</button>

        <!-- Row 2 -->
        <button class="calc-button">7</button>
        <button class="calc-button">8</button>
        <button class="calc-button">9</button>
        <button class="calc-button operator">×</button>

        <!-- Row 3 -->
        <button class="calc-button">4</button>
        <button class="calc-button">5</button>
        <button class="calc-button">6</button>
        <button class="calc-button operator">-</button>

        <!-- Row 4 -->
        <button class="calc-button">1</button>
        <button class="calc-button">2</button>
        <button class="calc-button">3</button>
        <button class="calc-button operator">+</button>

        <!-- Row 5 -->
        <button class="calc-button zero">0</button>
        <button class="calc-button">.</button>
        <button class="calc-button equals">=</button>
      </div>
    </div>

    <script>
      // Add button press animation
      document.querySelectorAll('.calc-button').forEach(button => {
        button.addEventListener('click', function () {
          this.classList.add('button-press');
          setTimeout(() => this.classList.remove('button-press'), 150);
        });
      });

      // Add number entry animation
      document
        .querySelectorAll('.calc-button:not(.operator):not(.equals)')
        .forEach(button => {
          button.addEventListener('click', function () {
            const display = document.querySelector('.current-result');
            display.classList.remove('number-entry');
            void display.offsetWidth; // Trigger reflow
            display.classList.add('number-entry');
          });
        });

      // Add equals animation
      document.querySelector('.equals').addEventListener('click', function () {
        const display = document.querySelector('.current-result');
        display.classList.remove('result-display');
        void display.offsetWidth; // Trigger reflow
        display.classList.add('result-display');
      });
    </script>
  </body>
</html>
